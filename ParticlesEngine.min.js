!function(a){return generateParticles=function(b,c){"use strict";function d(a,b){this.positionX=a,this.positionY=b,this.initialPositionX=a,this.initialPositionY=b}function e(a,b,c,d,e,f,g){this.positionX=r,this.positionY=s,this.size=c,this.red=d,this.green=e,this.blue=f,this.opacity=g,this.color="rgba("+this.red+","+this.green+","+this.blue+",+"+this.opacity+")"}function f(a,b,c,d,e,f,h){if(!(isNaN(f)||1>f)){f|=0,isNaN(h)&&(h=1),h|=0,h>3&&(h=3),1>h&&(h=1);var i,j=a,k=j.getContext("2d");try{try{i=k.getImageData(b,c,d,e)}catch(l){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead"),i=k.getImageData(b,c,d,e)}catch(l){throw alert("Cannot access local image"),new Error("unable to access local image data: "+l)}}}catch(l){throw alert("Cannot access image"),new Error("unable to access image data: "+l)}var m,n,o,p,q,r,s,t,u,v,w,x,y,z=i.data,A=f+f+1,B=d-1,C=e-1,D=f+1,E=new g,F=E;for(o=1;A>o;o++)if(F=F.next=new g,o==D);F.next=E;for(var G=null,H=N[f],I=O[f];h-->0;){for(s=r=0,n=e;--n>-1;){for(t=D*(w=z[r]),u=D*(x=z[r+1]),v=D*(y=z[r+2]),F=E,o=D;--o>-1;)F.r=w,F.g=x,F.b=y,F=F.next;for(o=1;D>o;o++)p=r+((o>B?B:o)<<2),t+=F.r=z[p++],u+=F.g=z[p++],v+=F.b=z[p],F=F.next;for(G=E,m=0;d>m;m++)z[r++]=t*H>>>I,z[r++]=u*H>>>I,z[r++]=v*H>>>I,r++,p=s+((p=m+f+1)<B?p:B)<<2,t-=G.r-(G.r=z[p++]),u-=G.g-(G.g=z[p++]),v-=G.b-(G.b=z[p]),G=G.next;s+=d}for(m=0;d>m;m++){for(r=m<<2,t=D*(w=z[r++]),u=D*(x=z[r++]),v=D*(y=z[r]),F=E,o=0;D>o;o++)F.r=w,F.g=x,F.b=y,F=F.next;for(q=d,o=1;f>=o;o++)r=q+m<<2,t+=F.r=z[r++],u+=F.g=z[r++],v+=F.b=z[r],F=F.next,C>o&&(q+=d);for(r=m,G=E,n=0;e>n;n++)p=r<<2,z[p]=t*H>>>I,z[p+1]=u*H>>>I,z[p+2]=v*H>>>I,p=m+((p=n+D)<C?p:C)*d<<2,t-=G.r-(G.r=z[p]),u-=G.g-(G.g=z[p+1]),v-=G.b-(G.b=z[p+2]),G=G.next,r+=d}}k.putImageData(i,b,c)}}function g(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}function h(){if(!D)return D=Date.now(),void(E=0);var a=((new Date).getTime()-D)/1e3;if(D=Date.now(),E=Math.floor(1/a),T+=E,U++,5===U&&(F=Math.floor(T/5),U=0,T=0),F){var b=x.length;v.fillStyle="#fff",v.font="11px Verdana",v.fillText("FPS: "+E+" lines: "+w+" Active particles: "+b+" Average FPS: "+F,10,n.height-20),w=0}}var i={particleType:"square",particleText:"â˜†",emitterShape:":)",emitterFontSize:150,emitterType:"random",emitterPositionX:50,emitterPositionY:50,particlesNumber:250,initialSize:3,randomSize:!0,minimumSize:2,maximumSize:4,moveLimit:50,durationMin:10,durationMax:70,lifeTime:!1,lifeTimeMin:100,lifeTimeMax:100,red:255,green:0,blue:255,opacity:1,randomOpacity:!0,particleMinimumOpacity:.1,particleMaximumOpacity:.9,drawConnections:!1,connectionRed:255,connectionGreen:255,connectionBlue:255,connectionOpacity:.1,mouseInteraction:!1,mouseInteractionType:"gravity",drawMouseConnections:!1,mouseInteractionDistance:300,mouseConnectionRed:255,mouseConnectionGreen:255,mouseConnectionBlue:255,mouseConnectionOpacity:.1,showStatistics:!0,backgroundMode:"gradient",backgroundImage:"img/wallpaper.jpg",backgroundSolid:{r:0,g:0,b:0},backgroundColors:{color1:{positionX:0,positionY:0,r:240,g:30,b:2,radious:100},color2:{positionX:100,positionY:100,r:33,g:30,b:70,radious:100}}},j=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a};j(i,c);var k=a.cancelAnimationFrame||a.clearTimeout,l=a.requestAnimationFrame||function(a){return setTimeout(a,1e3/60)},m=document.getElementById(b);if(null===m)return console.error("ParticlesEngine Error - Container is Null");var n=document.createElement("canvas");n.id="particles_"+b,n.style.display="block",n.style.position="absolute",m.innerHTML="",m.style.overflow="hidden",m.appendChild(n);var o,p,q,r,s,t,u,v=n.getContext("2d"),w=0,x=[],y=[],z=function(){"undefined"==typeof a.particleEngine?(a.particleEngine={},a.particleEngine.resizeHandler={}):"undefined"!=typeof a.particleEngine["animation"+b]&&(k(a.particleEngine["animation"+b]),a.removeEventListener("resize",a.particleEngine.resizeHandler["animation"+b],!1)),a.particleEngine.resizeHandler["animation"+b]=function(){z()},a.addEventListener("resize",a.particleEngine.resizeHandler["animation"+b],!1),n.width=m.clientWidth,n.height=m.clientHeight,p=Math.floor(n.width/2),q=Math.floor(n.height/2),o=Math.round(Math.sqrt(n.width*n.width+n.height*n.height)),P(i.backgroundMode),x.length=0,y.length=0,L(),W()},A=function(a,b){return Math.floor(Math.random()*(b-a+1))+a},B=function(a,b){var b=100*b,a=100*a,c=A(a,b),d=c/100;return d},C=function(a,b){var c=Math.round(Math.abs(a.positionX-b.positionX)),d=Math.round(Math.abs(a.positionY-b.positionY));return Math.round(Math.sqrt(c*c+d*d))};d.prototype.fadeTo=function(a){this.opacity<a?(this.opacity=this.opacity+.02,this.opacity>1&&(this.opacity=1)):this.opacity>a&&(this.opacity=this.opacity-.02)},d.prototype.fadeIn=function(){this.active=!0,-1==this.actions.indexOf("fadeIn")&&this.actions.push("fadeIn"),this.fadeTo(this.initialOpacity),this.initialOpacity-this.opacity<=0&&this.actions.splice(this.actions.indexOf("fadeIn"),1)},d.prototype.fadeOut=function(){this.isFading=!0,-1==this.actions.indexOf("fadeOut")&&this.actions.push("fadeOut"),this.opacity<.05&&(this.opacity=0,this.isFading=!1,this.active=!1,this.actions.splice(this.actions.indexOf("fadeOut"),1)),this.fadeTo(0)},d.prototype.doActions=function(){for(var a=0;a<this.actions.length;a++){var b=this.actions[a];this[b]()}},d.prototype.animateTo=function(a,b){var c,d=this.duration,e=function(a,b){return a>b?(c=(a-b)/d,a=b+c):(c=(b-a)/d,a=b-c),a};this.positionX=e(a,this.positionX),this.positionY=e(b,this.positionY),this.timer==this.duration?(this.calculateVector(),this.timer=0):this.timer++},d.prototype.updateColor=function(){this.color="rgba("+this.red+","+this.green+","+this.blue+","+this.opacity+")"},d.prototype.init=function(){this.initOpacity(),this.initSize(),this.red=i.red,this.green=i.green,this.blue=i.blue,this.color="rgba("+this.red+","+this.green+","+this.blue+","+this.opacity+")",this.duration=A(i.durationMin,i.durationMax),this.limit=i.moveLimit,this.timer=0,this.lifeTime=A(i.lifeTimeMin,i.lifeTimeMax),this.actions=[],this.calculateVector(),this.active=!0,this.closestDistance=o,x.push(this),this.index=x.indexOf(this)},d.prototype.initOpacity=function(){this.opacity=i.randomOpacity?B(i.particleMinimumOpacity,i.particleMaximumOpacity):i.opacity,this.initialOpacity=this.opacity},d.prototype.initSize=function(){this.size=i.randomSize?A(i.minimumSize,i.maximumSize):i.initialSize},d.prototype.calculateVector=function(){for(var a,b={},c=this,d=function(){var d=c.positionX-c.limit,e=c.positionX+c.limit;e>n.width&&(e=n.width),0>d&&(d=0);var f=c.positionY-c.limit,g=c.positionY+c.limit;g>n.height&&(g=n.height),0>f&&(f=0),b.positionX=A(d,e),b.positionY=A(f,g),a=C(c,b)};"undefined"==typeof a||a>this.limit;)d();this.vectorX=b.positionX,this.vectorY=b.positionY},d.prototype.testInteraction=function(){for(var a=this.index+1;a<x.length;a++){var b=x[a],c=C(this,b);c<this.closestDistance&&(this.closestDistance=c,this.closestElement=b),c<b.closestDistance&&(b.closestDistance=c,b.closestElement=this)}this.closestElement&&(v.beginPath(),v.moveTo(this.positionX+this.size/2,this.positionY+this.size/2),v.lineTo(this.closestElement.positionX+.5*this.closestElement.size,this.closestElement.positionY+.5*this.closestElement.size),v.strokeStyle="rgba("+i.connectionRed+","+i.connectionGreen+","+i.connectionBlue+","+i.connectionOpacity+")",v.stroke(),w++)},e.prototype.testInteraction=function(){if(0!==i.mouseInteractionDistance){for(var a=[],b=0;b<x.length;b++){var c=x[b],d=C(this,c);d<i.mouseInteractionDistance&&c!==this&&a.push(x[b])}for(var b=0;b<a.length;b++){if(i.drawMouseConnections){var e=a[b];v.beginPath(),v.moveTo(this.positionX,this.positionY),v.lineTo(e.positionX+.5*e.size,e.positionY+.5*e.size),v.strokeStyle="rgba("+i.mouseConnectionRed+","+i.mouseConnectionGreen+","+i.mouseConnectionBlue+","+i.mouseConnectionOpacity+")",v.stroke(),w++}i.mouseInteraction&&("gravity"==i.mouseInteractionType?(a[b].vectorX=this.positionX,a[b].vectorY=this.positionY):"initial"==i.mouseInteractionType&&(a[b].vectorX=a[b].initialPositionX,a[b].vectorY=a[b].initialPositionY))}}},d.prototype.updateLifeTime=function(){this.lifeTime--,this.lifeTime<0&&this.fadeOut()},d.prototype.updateAnimation=function(){this.animateTo(this.vectorX,this.vectorY),this.updateColor(),v.fillStyle=this.color,"square"==i.particleType?v.fillRect(this.positionX,this.positionY,this.size,this.size):"text"==i.particleType&&(v.font=this.size+"px Verdana",v.fillText(i.particleText,this.positionX,this.positionY))},e.prototype.updateAnimation=function(){this.positionX=r,this.positionY=s,this.testInteraction()};var D,E,F,G=function(a){var b=n.width/100*a.positionX,c=n.height/100*a.positionY;v.fillStyle="#fff",v.font=a.emitterFontSize+"px Verdana",v.fillText(a.text,b,c);for(var d=v.getImageData(0,0,n.width,n.height),e=d.data,f=0,g=0,h=0;h<e.length;h+=4)f++,f==n.width&&(f=0,g++),255===e[h]&&y.push([f,g])},H=function(a){for(var b=0;b<a.particlesNumber;b++){if(y.length<2)return;var c=A(1,y.length-1),e=y[c],f=new d(e[0],e[1]);f.init(),y.splice(c,1)}},I=function(a){for(var b=0;b<a.particlesNumber;b++){var c=Math.floor(Math.random()*n.width+1),e=Math.floor(Math.random()*n.height+1),f=new d(c,e);f.init()}},J=function(a){for(var b=0;b<a.particlesNumber;b++){var c=n.width/100*a.positionX,e=n.height/100*a.positionY,f=new d(c,e);f.init()}},K=function(a,b){"text"===a?(G(b),H(b)):"point"===a?J(b):"random"===a&&I(b)},L=function(){t=new e(0,0,i.initialSize,255,255,255),"text"===i.emitterType?K("text",{positionX:i.emitterPositionX,positionY:i.emitterPositionY,particlesNumber:i.particlesNumber,text:i.emitterShape,emitterFontSize:i.emitterFontSize}):"point"===i.emitterType?K("point",{positionX:i.emitterPositionX,positionY:i.emitterPositionY,particlesNumber:i.particlesNumber}):"random"===i.emitterType&&K("random",{particlesNumber:i.particlesNumber})},M=function(){for(var a=0;a<x.length;a++)x[a].closestDistance=o;for(var a=0;a<x.length;a++){var b=x[a];b.doActions(),b.active?(b.updateAnimation(),i.drawConnections&&b.testInteraction(),i.lifeTime&&b.updateLifeTime()):b.active===!1&&b.isFading===!1&&(b.lifeTime=100,b.positionX=b.initialPositionX,b.positionY=b.initialPositionY,b.calculateVector(),b.timer=0,b.fadeIn())}t.updateAnimation()},N=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1],O=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9],P=function(a){"gradient"===a?Q():"image"===a&&S()},Q=function(){var a;null===document.getElementById("particles_"+b+"_background")?(a=document.createElement("canvas"),a.id="particles_"+b+"_background",a.style.display="block",a.style.position="absolute",m.insertBefore(a,n)):a=document.getElementById("particles_"+b+"_background"),a.width=n.width,a.height=n.height;var c=a.getContext("2d");c.clearRect(0,0,a.width,a.height),c.fillStyle="rgb("+i.backgroundSolid.r+","+i.backgroundSolid.g+","+i.backgroundSolid.b+")",c.fillRect(0,0,a.width,a.height);for(var d in i.backgroundColors)i.backgroundColors.hasOwnProperty(d)&&R(a,i.backgroundColors[d]);f(a,0,0,a.width,a.height,200,2)},R=function(a,b){var c=a.getContext("2d"),d=Math.floor(o/100*b.radious),e=Math.floor(a.width/100*b.positionX),f=Math.floor(a.height/100*b.positionY),g=c.createRadialGradient(e,f,0,e,f,d),h="rgba("+b.r+","+b.g+","+b.b;g.addColorStop(0,h+",100)"),g.addColorStop(1,h+",0)"),c.fillStyle=g,c.fillRect(0,0,a.width,a.height)},S=function(){},T=0,U=0;n.onmousemove=function(b){r=b.clientX-m.offsetLeft+a.pageXOffset,s=b.clientY-m.offsetTop+a.pageYOffset};var V=function(){v.clearRect(0,0,n.width,n.height)},W=function(){V(),M(),a.particleEngine["animation"+b]=l(W),u=!0,i.showStatistics&&h()};z()},a.generateParticles=generateParticles,generateParticles}(window);