!function(a){return generateParticles=function(b){"use strict";var c=a.cancelAnimationFrame||a.clearTimeout,d=a.requestAnimationFrame||function(a){return setTimeout(a,1e3/60)},e=function(){c(a.particleEngine["animation"+b])},f=document.getElementById(b);if(null===f)return console.error("ParticlesEngine Error - Container is Null");var g=document.createElement("canvas");g.id="particles_"+b,g.style.display="block",g.style.position="absolute",f.innerHTML="",f.style.overflow="hidden",f.appendChild(g);var h,i,j,k=g.getContext("2d"),l=0,m=[],n=[],o=0,p={};p.events={},p.emit=function(a,b){!this.events[a]||this.events[a].length<1||this.events[a].forEach(function(a){a(b||{})})},p.subscribe=function(a,b){this.events[a]||(this.events[a]=[]),this.events[a].push(b)};var q=function(){"undefined"==typeof a.particleEngine?(a.particleEngine={},a.particleEngine.resizeHandler={}):"undefined"!=typeof a.particleEngine["animation"+b]&&(e(a.particleEngine["animation"+b]),a.removeEventListener("resize",a.particleEngine.resizeHandler["animation"+b],!1)),a.particleEngine.resizeHandler["animation"+b]=function(){e(a.particleEngine["animation"+b]),r()},a.addEventListener("resize",a.particleEngine.resizeHandler["animation"+b],!1)},r=function(){g.width=f.clientWidth,g.height=f.clientHeight,h=Math.round(Math.sqrt(g.width*g.width+g.height*g.height)),i=Math.floor(g.width/2),j=Math.floor(g.height/2),m.length=0,n.length=0,o=0,p.emit("init"),E()},s=function(){var a={};return a.init=function(){var a=function(a){"gradient"===a&&b()},b=function(){var a,b="";for(var c in A.backgroundColors)"undefined"==typeof a&&(a=A.backgroundColors[c].color),A.backgroundColors.hasOwnProperty(c)&&(b+="radial-gradient(circle at "+A.backgroundColors[c].positionX+"% "+A.backgroundColors[c].positionY+"%, #"+A.backgroundColors[c].color+", transparent 100%),");b=b.slice(0,-1),f.style.background="#"+a,f.style.backgroundImage=b},c=function(){null!==A.background&&a(A.background)};p.subscribe("init",c)},a}(),t=function(){var b={};return b.init=function(){var b=function(){};b.prototype.init=function(a){this.name="emitter"+y.getRandomBetween(1,1e3),this.lifeTime=a.lifeTime||!1},b.prototype.update=function(){this.lifeTime&&this.lifeTime--,this.lifeTime<=0&&this.destroy()},b.prototype.destroy=function(){for(var a=0;a<m.length;a++){var b=m[a];b.emitter===this.name&&b.destroy()}var c=n.indexOf(this);n.splice(c,1)};var c=function(a){this.init(),this.emitterPositions=[];var b=g.width/100*a.positionX+a.positionXpx,c=g.height/100*a.positionY+a.positionYpx;k.fillStyle="rgba(254,255,255,1)",k.font=a.emitterFontSize+"px Verdana",k.fillText(a.text,b,c);for(var d=k.getImageData(0,0,g.width,g.height),e=d.data,f=0,h=0,i=0;i<e.length;i+=4)f++,f===g.width&&(f=0,h++),254===e[i]&&this.emitterPositions.push([f,h]);this.createTextEmitterParticles(a)};c.prototype=b.prototype,c.prototype.createTextEmitterParticles=function(a){for(var b=0;b<a.particlesNumber;b++){if(this.emitterPositions.length<2)return;var c=y.getRandomBetween(1,this.emitterPositions.length-1),d=this.emitterPositions[c],e=new B.Particle(d[0],d[1],this.name);e.init(),this.emitterPositions.splice(c,1)}};var d=function(a,b){this.init(a);for(var c=0;c<a.particlesNumber;c++){var d=Math.floor(Math.random()*g.width+1),e=Math.floor(Math.random()*g.height+1),f=new B.Particle(d,e,this.name);f.init(b)}};d.prototype=b.prototype;var e=function(a,c){this.init(a);for(var d=0;d<a.particlesNumber;d++){var e=g.width/100*a.positionX+a.positionXpx,f=g.height/100*a.positionY+a.positionYpx,h=new B.Particle(e,f,this.name);h.init(c)}this.prototype=b.prototype};e.prototype=b.prototype;var f=function(a,b,f){var g;"text"===a?g=new c(b,f):"point"===a?g=new e(b,f):"random"===a&&(g=new d(b,f)),n.push(g)};a.particleEngine.addEmitter=f},b}(),u=function(){var a={};return a.init=function(){B.Particle.prototype.fadeTo=function(a){this.opacity<a?(this.opacity=this.opacity+.01,this.opacity>1&&(this.opacity=1)):this.opacity>a&&(this.opacity=this.opacity-.01)},B.Particle.prototype.fadeIn=function(){this.active=!0,-1===this.actions.indexOf("fadeIn")&&this.actions.push("fadeIn"),this.fadeTo(this.initialOpacity),this.initialOpacity-this.opacity<=0&&this.actions.splice(this.actions.indexOf("fadeIn"),1)},B.Particle.prototype.fadeOut=function(){this.isFading=!0,-1===this.actions.indexOf("fadeOut")&&this.actions.push("fadeOut"),this.opacity<.05&&(this.opacity=0,this.isFading=!1,this.active=!1,this.actions.splice(this.actions.indexOf("fadeOut"),1)),this.fadeTo(0)}},a}(),v=function(){var a={};return a.init=function(){B.Particle.prototype.appendGlobalForces=function(a,b){this.positionX=this.positionX+a,this.positionX+this.size>g.width&&(this.positionX=g.width-this.size),this.positionX<0&&(this.positionX=0),this.positionY=this.positionY+b,this.positionY>g.height&&(this.positionY=g.height),this.positionY<0&&(this.positionY=0)}},a}(),w=function(){var a={};return a.init=function(){var a,b,c,d=0,e=0,f=function(){if(!a)return a=Date.now(),void(b=0);var f=((new Date).getTime()-a)/1e3;a=Date.now(),b=Math.floor(1/f),d+=b,e++,5===e&&(c=Math.floor(d/5),e=0,d=0),c&&(k.fillStyle="#fff",k.font="10px Verdana",k.fillText("FPS: "+b,10,g.height-70),k.fillText("Average FPS: "+c,10,g.height-60),k.fillText("Active particles: "+m.length,10,g.height-50),k.fillText("Active emitters: "+n.length,10,g.height-40),k.fillText("Connections between particles: "+l,10,g.height-30),l=0)};p.subscribe("requestStatistics",f)},a}(),x=function(){var a={};return a.init=function(){a.collectGarbage=function(){o=0;for(var a=m.length-1;a>=0;a--){var b=m[a];b.destroyIt!==!0||b.active||m.splice(a,1)}},p.subscribe("refreshScene",function(){o>100&&a.collectGarbage()})},a}(),y=function(){var a={};return a.init=function(){a.getRandomBetween=function(a,b){return Math.floor(Math.random()*(b-a+1))+a},a.getRandomDecimalBetween=function(a,b){var b=100*b,a=100*a,c=this.getRandomBetween(a,b),d=c/100;return d},a.hitTest=function(a,b){return a.positionX<b.positionX+b.size&&a.positionX+b.size>b.positionX&&a.positionY<b.positionY+b.size&&a.positionY>b.positionY?!0:!1},a.getDistance=function(a,b){var c=Math.round(Math.abs(a.positionX-b.positionX)),d=Math.round(Math.abs(a.positionY-b.positionY));return Math.round(Math.sqrt(c*c+d*d))},a.getPosition=function(){}},a}(),z=function(){var a={};return a.init=function(){a.Interaction=function(){};var b=new a.Interaction,c=[];a.Interaction.prototype.grabElements=function(){c=[];for(var a=0;a<m.length;a++){var b=m[a],d=y.getDistance(this,b);d<A.mouseInteractionDistance&&c.push(m[a])}},a.Interaction.prototype.interact=function(){for(var a=0;a<c.length;a++){var b=c[a];A.drawMouseConnections&&d(this,b),"gravity"===A.mouseInteractionType?(b.vectorX=this.positionX,b.vectorY=this.positionY):"initial"===A.mouseInteractionType&&(b.vectorX=b.initialPositionX,b.vectorY=b.initialPositionY)}};var d=function(a,b){k.beginPath(),k.moveTo(a.positionX,a.positionY),k.lineTo(b.getCenterX(),b.getCenterY()),k.strokeStyle="rgba("+A.mouseConnectionColor.red+","+A.mouseConnectionColor.green+","+A.mouseConnectionColor.blue+","+A.mouseConnectionColor.alpha+")",k.stroke()};a.Interaction.prototype.updateAnimation=function(){this.positionX=particleEngine.mousePositionX,this.positionY=particleEngine.mousePositionY,this.grabElements(),this.interact()};var e=function(){b.updateAnimation()};A.mouseInteraction&&A.mouseInteractionDistance>0&&p.subscribe("refreshScene",e)},a}(),A={particleType:"square",particleText:"!",emitterShape:"M",emitterFontSize:150,emitterType:"point",emitterPositionX:50,emitterPositionY:50,emitterPositionXpx:0,emitterPositionYpx:0,particlesNumber:1,initialSize:3,randomSize:!0,minimumSize:1,maximumSize:3,moveLimit:300,durationMin:50,durationMax:200,lifeTimeMin:10,lifeTimeMax:10,globalForceX:5,globalForceY:-1,particleColor:{red:255,green:255,blue:255,alpha:1},randomOpacity:!0,particleMinimumOpacity:.1,particleMaximumOpacity:.9,drawConnections:!1,connectionColor:{red:255,green:255,blue:255,alpha:1},mouseInteraction:!1,mouseInteractionType:"gravity",drawMouseConnections:!1,mouseInteractionDistance:300,mouseConnectionColor:{red:255,green:255,blue:255,alpha:1},showStatistics:!0,background:"gradient",backgroundColors:{color1:{positionX:25,positionY:25,color:"FF9900"},color2:{positionX:60,positionY:60,color:"FFE066"}}},B=function(){var a={};return a.init=function(){a.Particle=function(a,b,c){this.positionX=a,this.positionY=b,this.initialPositionX=a,this.initialPositionY=b,this.emitter=c},a.Particle.prototype.doActions=function(){for(var a=0;a<this.actions.length;a++){var b=this.actions[a];this[b]()}},a.Particle.prototype.destroy=function(){this.destroyIt=!0,o++},a.Particle.prototype.calculateNewPosition=function(a,b){var c,d=this.duration,e=function(a,b){return a>b?(c=(a-b)/d,a=b+c):(c=(b-a)/d,a=b-c),a};this.positionX=e(a,this.positionX),this.positionY=e(b,this.positionY),this.timer===this.duration?(this.calculateVector(),this.timer=0):this.timer++},a.Particle.prototype.updateColor=function(){this.color="rgba("+this.red+","+this.green+","+this.blue+","+this.opacity+")"},a.Particle.prototype.init=function(a){this.particleConfig=a,this.initOpacity(),this.initSize(),this.red=a.particleColor.red,this.green=a.particleColor.green,this.blue=a.particleColor.blue,this.color="rgba("+this.red+","+this.green+","+this.blue+","+this.opacity+")",this.duration=y.getRandomBetween(a.durationMin,a.durationMax),this.limit=a.moveLimit,this.timer=0,this.lifeTime=b(a.lifeTimeMin,a.lifeTimeMax),this.actions=[],this.calculateVector(),this.active=!0,this.closestDistance=h,m.push(this),this.index=m.indexOf(this)};var b=function(a,b){return"undefined"!=typeof a&&"undefined"!=typeof b?y.getRandomBetween(a,b):!1};a.Particle.prototype.initOpacity=function(){this.opacity=this.particleConfig.randomOpacity?y.getRandomDecimalBetween(this.particleConfig.particleMinimumOpacity,this.particleConfig.particleMaximumOpacity):this.particleConfig.particleColor.alpha,this.initialOpacity=this.opacity},a.Particle.prototype.initSize=function(){this.size=this.particleConfig.randomSize?y.getRandomBetween(this.particleConfig.minimumSize,this.particleConfig.maximumSize):this.particleConfig.initialSize},a.Particle.prototype.calculateVector=function(){for(var a,b={},c=this,d=function(){var d=c.positionX-c.limit,e=c.positionX+c.limit;e>g.width&&(e=g.width),0>d&&(d=0);var f=c.positionY-c.limit,h=c.positionY+c.limit;h>g.height&&(h=g.height),0>f&&(f=0),b.positionX=y.getRandomBetween(d,e),b.positionY=y.getRandomBetween(f,h),a=y.getDistance(c,b)};"undefined"==typeof a||a>this.limit;)d();this.vectorX=b.positionX,this.vectorY=b.positionY},a.Particle.prototype.getCenterX=function(){return"square"===this.particleConfig.particleType?i=this.positionX+.5*this.size:"circle"===this.particleConfig.particleType&&(i=this.positionX),i},a.Particle.prototype.getCenterY=function(){return"square"===this.particleConfig.particleType?j=this.positionY+.5*this.size:"circle"===this.particleConfig.particleType&&(j=this.positionY),j},a.Particle.prototype.testInteraction=function(){for(var a=this.index+1;a<m.length;a++){if(!this.active)return;var b=m[a],c=y.getDistance(this,b);c<this.closestDistance&&b.active===!0&&(this.closestDistance=c,this.closestElement=b),c<b.closestDistance&&(b.closestDistance=c,b.closestElement=this)}},a.Particle.prototype.drawLine=function(){k.beginPath(),k.moveTo(this.getCenterX(),this.getCenterY()),k.lineTo(this.closestElement.getCenterX(),this.closestElement.getCenterY()),k.strokeStyle="rgba("+A.connectionColor.red+","+A.connectionColor.green+","+A.connectionColor.blue+","+A.connectionColor.alpha+")",k.stroke(),l++},a.Particle.prototype.updateLifeTime=function(){this.lifeTime&&this.lifeTime--,0===this.lifeTime&&this.fadeOut()},a.Particle.prototype.updateAnimation=function(){this.calculateNewPosition(this.vectorX,this.vectorY),this.updateColor(),k.fillStyle=this.color,"square"===this.particleConfig.particleType?k.fillRect(this.positionX,this.positionY,this.size,this.size):"circle"===this.particleConfig.particleType?(k.beginPath(),k.arc(this.positionX,this.positionY,this.size,0,2*Math.PI),k.fill(),k.closePath()):"text"===this.particleConfig.particleType&&(k.font=this.size+"px Verdana",k.fillText(A.particleText,this.positionX,this.positionY))}},a}(),C=function(){var a={};return a.init=function(){var b=0;a.update=function(){if(b++,A.drawConnections&&3===b){b=0;for(var a=0;a<m.length;a++){var c=m[a];c.closestDistance=h,c.closestElement=null}for(var a=0;a<m.length;a++){var c=m[a];c.testInteraction()}}if(A.drawConnections)for(var a=0;a<m.length;a++){var c=m[a];c.closestElement&&c.drawLine()}for(var a=0;a<m.length;a++){var c=m[a];c.doActions(),c.appendGlobalForces(A.globalForceX,A.globalForceY),c.active?(c.updateAnimation(),c.updateLifeTime()):c.destroyIt||c.active||c.isFading||(c.lifeTime=100,c.positionX=c.initialPositionX,c.positionY=c.initialPositionY,c.calculateVector(),c.timer=0,c.fadeIn())}for(var a=0;a<n.length;a++)n[a].update();p.emit("refreshScene")}},a}();q(),y.init(),x.init(),B.init(),z.init(),t.init(),C.init(),u.init(),v.init(),s.init(),w.init(),g.onmousemove=function(b){particleEngine.mousePositionX=b.clientX-f.offsetLeft+a.pageXOffset,particleEngine.mousePositionY=b.clientY-f.offsetTop+a.pageYOffset};var D=function(){k.clearRect(0,0,g.width,g.height)},E=function(){D(),C.update(),a.particleEngine["animation"+b]=d(E),A.showStatistics&&p.emit("requestStatistics")};r()},a.generateParticles=generateParticles,generateParticles}(window);