!function(a){return generateParticles=function(b,c){"use strict";var d=a.cancelAnimationFrame||a.clearTimeout,e=a.requestAnimationFrame||function(a){return setTimeout(a,1e3/60)},f=document.getElementById(b);if(null===f)return console.error("ParticlesEngine Error - Container is Null");var g=document.createElement("canvas");g.id="particles_"+b,g.style.display="block",g.style.position="absolute",f.innerHTML="",f.style.overflow="hidden",f.appendChild(g);var h,i,j,k,l=g.getContext("2d"),m=0,n=0,o=0,p=[],q=[],r={};r.events={},r.emit=function(a,b){!this.events[a]||this.events[a].length<1||this.events[a].forEach(function(a){a(b||{})})},r.subscribe=function(a,b){this.events[a]||(this.events[a]=[]),this.events[a].push(b)};var s=function(){"undefined"==typeof a.particleEngine?(a.particleEngine={},a.particleEngine.resizeHandler={}):"undefined"!=typeof a.particleEngine["animation"+b]&&(d(a.particleEngine["animation"+b]),a.removeEventListener("resize",a.particleEngine.resizeHandler["animation"+b],!1)),a.particleEngine.resizeHandler["animation"+b]=function(){s()},a.addEventListener("resize",a.particleEngine.resizeHandler["animation"+b],!1),g.width=f.clientWidth,g.height=f.clientHeight,h=Math.round(Math.sqrt(g.width*g.width+g.height*g.height)),i=Math.floor(g.width/2),j=Math.floor(g.height/2),p.length=0,q.length=0,r.emit("init"),u.createScene(),F()},t=function(){var a={};return a.init=function(){var a=function(a){"gradient"===a?b():"image"===a&&c()},b=function(){var a,b="";for(var c in A.backgroundColors)"undefined"==typeof a&&(a=A.backgroundColors[c].color),A.backgroundColors.hasOwnProperty(c)&&(b+="radial-gradient(circle at "+A.backgroundColors[c].positionX+"% "+A.backgroundColors[c].positionY+"%, #"+A.backgroundColors[c].color+", transparent 100%),");b=b.slice(0,-1),f.style.background="#"+a,f.style.backgroundImage=b},c=function(){f.style.backgroundImage="url(img/wallpaper.jpg)",f.style.backgroundPosition="center center",f.style.backgroundSize="cover"},d=function(){null!==A.background&&a(A.background)};r.subscribe("init",d)},a}(),u=function(){var a={};return a.init=function(){var b=function(a){var b=g.width/100*a.positionX-a.positionXpx,c=g.height/100*a.positionY;l.fillStyle="#fff",l.font=a.emitterFontSize+"px Verdana",l.fillText(a.text,b,c);for(var d=l.getImageData(0,0,g.width,g.height),e=d.data,f=0,h=0,i=0;i<e.length;i+=4)f++,f==g.width&&(f=0,h++),255===e[i]&&q.push([f,h])},c=function(a){for(var b=0;b<a.particlesNumber;b++){if(q.length<2)return;var c=y.getRandomBetween(1,q.length-1),d=q[c],e=new C.Particle(d[0],d[1]);e.init(),q.splice(c,1)}},d=function(a){for(var b=0;b<a.particlesNumber;b++){var c=Math.floor(Math.random()*g.width+1),d=Math.floor(Math.random()*g.height+1),e=new C.Particle(c,d);e.init()}},e=function(a){for(var b=0;b<a.particlesNumber;b++){var c=g.width/100*a.positionX,d=g.height/100*a.positionY,e=new C.Particle(c,d);e.init()}},f=function(a,f){"text"===a?(b(f),c(f)):"point"===a?e(f):"random"===a&&d(f)};a.createScene=function(){"text"===A.emitterType?f("text",{positionX:A.emitterPositionX,positionY:A.emitterPositionY,particlesNumber:A.particlesNumber,text:A.emitterShape,emitterFontSize:A.emitterFontSize,positionXpx:A.emitterPositionXpx}):"point"===A.emitterType?f("point",{positionX:A.emitterPositionX,positionY:A.emitterPositionY,particlesNumber:A.particlesNumber}):"random"===A.emitterType&&f("random",{particlesNumber:A.particlesNumber})}},a}(),v=function(){var a={};return a.init=function(){C.Particle.prototype.fadeTo=function(a){this.opacity<a?(this.opacity=this.opacity+.02,this.opacity>1&&(this.opacity=1)):this.opacity>a&&(this.opacity=this.opacity-.02)},C.Particle.prototype.fadeIn=function(){this.active=!0,-1==this.actions.indexOf("fadeIn")&&this.actions.push("fadeIn"),this.fadeTo(this.initialOpacity),this.initialOpacity-this.opacity<=0&&this.actions.splice(this.actions.indexOf("fadeIn"),1)},C.Particle.prototype.fadeOut=function(){this.isFading=!0,-1==this.actions.indexOf("fadeOut")&&this.actions.push("fadeOut"),this.opacity<.05&&(this.opacity=0,this.isFading=!1,this.active=!1,this.actions.splice(this.actions.indexOf("fadeOut"),1)),this.fadeTo(0)}},a}(),w=function(){var a={};return a.init=function(){C.Particle.prototype.appendGlobalForces=function(a,b){this.positionX=this.positionX+a,this.positionX>g.width&&(this.positionX=g.width),this.positionX<0&&(this.positionX=0),this.positionY=this.positionY+b,this.positionY>g.height&&(this.positionY=g.height),this.positionY<0&&(this.positionY=0)}},a}(),x=function(){var a={};return a.init=function(){var a,b,c,d=0,e=0,f=function(){if(!a)return a=Date.now(),void(b=0);var f=((new Date).getTime()-a)/1e3;if(a=Date.now(),b=Math.floor(1/f),d+=b,e++,5===e&&(c=Math.floor(d/5),e=0,d=0),c){var h=p.length;l.fillStyle="#fff",l.font="11px Verdana",l.fillText("FPS: "+b+" lines: "+o+" Active particles: "+h+" Average FPS: "+c,10,g.height-20),o=0}};r.subscribe("requestStatistics",f)},a}(),y=function(){var a={};return a.init=function(){a.getRandomBetween=function(a,b){return Math.floor(Math.random()*(b-a+1))+a},a.getRandomDecimalBetween=function(a,b){var b=100*b,a=100*a,c=this.getRandomBetween(a,b),d=c/100;return d},a.hitTest=function(a,b){return a.positionX<b.positionX+b.size&&a.positionX+b.size>b.positionX&&a.positionY<b.positionY+b.size&&a.positionY>b.positionY?!0:!1},a.getDistance=function(a,b){var c=Math.round(Math.abs(a.positionX-b.positionX)),d=Math.round(Math.abs(a.positionY-b.positionY));return Math.round(Math.sqrt(c*c+d*d))}},a}(),z=function(){var a={};return a.init=function(){a.Interaction=function(){},a.Interaction.prototype.testInteraction=function(){if(0!==A.mouseInteractionDistance){for(var a=[],b=0;b<p.length;b++){var c=p[b],d=y.getDistance(this,c);d<A.mouseInteractionDistance&&c!==this&&a.push(p[b])}for(var b=0;b<a.length;b++){if(A.drawMouseConnections){var e=a[b];l.beginPath(),l.moveTo(this.positionX,this.positionY),l.lineTo(e.positionX+.5*e.size,e.positionY+.5*e.size),l.strokeStyle="rgba("+A.mouseConnectionRed+","+A.mouseConnectionGreen+","+A.mouseConnectionBlue+","+A.mouseConnectionOpacity+")",l.stroke(),o++}A.mouseInteraction&&("gravity"==A.mouseInteractionType?(a[b].vectorX=this.positionX,a[b].vectorY=this.positionY):"initial"==A.mouseInteractionType&&(a[b].vectorX=a[b].initialPositionX,a[b].vectorY=a[b].initialPositionY))}}},a.Interaction.prototype.updateAnimation=function(){this.positionX=m,this.positionY=n,this.testInteraction()};var b=new a.Interaction("ab"),c=function(){b.updateAnimation()};r.subscribe("refreshScene",c)},a}(),A={particleType:"circle",particleText:"â˜†",emitterShape:"77",emitterFontSize:150,emitterType:"random",emitterPositionX:50,emitterPositionXpx:200,emitterPositionY:50,particlesNumber:400,initialSize:3,randomSize:!0,minimumSize:1,maximumSize:3,moveLimit:50,durationMin:50,durationMax:200,lifeTime:!0,lifeTimeMin:100,lifeTimeMax:150,globalForceX:0,globalForceY:0,red:255,green:255,blue:255,opacity:1,randomOpacity:!0,particleMinimumOpacity:.1,particleMaximumOpacity:.9,drawConnections:!1,connectionRed:255,connectionGreen:255,connectionBlue:255,connectionOpacity:.1,mouseInteraction:!0,mouseInteractionType:"gravity",drawMouseConnections:!1,mouseInteractionDistance:300,mouseConnectionRed:255,mouseConnectionGreen:255,mouseConnectionBlue:255,mouseConnectionOpacity:.1,showStatistics:!0,background:"gradient",backgroundImage:"img/wallpaper.jpg",backgroundMainColor:"255,255,255",backgroundColors:{color1:{positionX:25,positionY:25,color:"68B9F2"},color2:{positionX:60,positionY:60,color:"0000ff"}}},B=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a};B(A,c);var C=(function(){var a={};return a.init=function(){C.Particle.prototype.appendParallax=function(){}},a}(),function(){var a={};return a.init=function(){a.Particle=function(a,b){this.positionX=a,this.positionY=b,this.initialPositionX=a,this.initialPositionY=b},a.Particle.prototype.doActions=function(){for(var a=0;a<this.actions.length;a++){var b=this.actions[a];this[b]()}},a.Particle.prototype.calculateNewPosition=function(a,b){var c,d=this.duration,e=function(a,b){return a>b?(c=(a-b)/d,a=b+c):(c=(b-a)/d,a=b-c),a};this.positionX=e(a,this.positionX),this.positionY=e(b,this.positionY),this.timer==this.duration?(this.calculateVector(),this.timer=0):this.timer++},a.Particle.prototype.updateColor=function(){this.color="rgba("+this.red+","+this.green+","+this.blue+","+this.opacity+")"},a.Particle.prototype.init=function(){this.initOpacity(),this.initSize(),this.red=A.red,this.green=A.green,this.blue=A.blue,this.color="rgba("+this.red+","+this.green+","+this.blue+","+this.opacity+")",this.duration=y.getRandomBetween(A.durationMin,A.durationMax),this.limit=A.moveLimit,this.timer=0,this.lifeTime=y.getRandomBetween(A.lifeTimeMin,A.lifeTimeMax),this.actions=[],this.calculateVector(),this.active=!0,this.closestDistance=h,p.push(this),this.index=p.indexOf(this)},a.Particle.prototype.initOpacity=function(){this.opacity=A.randomOpacity?y.getRandomDecimalBetween(A.particleMinimumOpacity,A.particleMaximumOpacity):A.opacity,this.initialOpacity=this.opacity},a.Particle.prototype.initSize=function(){this.size=A.randomSize?y.getRandomBetween(A.minimumSize,A.maximumSize):A.initialSize},a.Particle.prototype.calculateVector=function(){for(var a,b={},c=this,d=function(){var d=c.positionX-c.limit,e=c.positionX+c.limit;e>g.width&&(e=g.width),0>d&&(d=0);var f=c.positionY-c.limit,h=c.positionY+c.limit;h>g.height&&(h=g.height),0>f&&(f=0),b.positionX=y.getRandomBetween(d,e),b.positionY=y.getRandomBetween(f,h),a=y.getDistance(c,b)};"undefined"==typeof a||a>this.limit;)d();this.vectorX=b.positionX,this.vectorY=b.positionY},a.Particle.prototype.getCenterX=function(){return"square"==A.particleType?i=this.positionX+.5*this.size:"circle"==A.particleType&&(i=this.positionX),i},a.Particle.prototype.getCenterY=function(){return"square"==A.particleType?j=this.positionY+.5*this.size:"circle"==A.particleType&&(j=this.positionY),j},a.Particle.prototype.testInteraction=function(){for(var a=this.index+1;a<p.length;a++){var b=p[a],c=y.getDistance(this,b);c<this.closestDistance&&(this.closestDistance=c,this.closestElement=b),c<b.closestDistance&&(b.closestDistance=c,b.closestElement=this)}this.closestElement&&(l.beginPath(),l.moveTo(this.getCenterX(),this.getCenterY()),l.lineTo(this.closestElement.getCenterX(),this.closestElement.getCenterY()),l.strokeStyle="rgba("+A.connectionRed+","+A.connectionGreen+","+A.connectionBlue+","+A.connectionOpacity+")",l.stroke(),o++)},a.Particle.prototype.updateLifeTime=function(){this.lifeTime--,this.lifeTime<0&&this.fadeOut()},a.Particle.prototype.updateAnimation=function(){this.calculateNewPosition(this.vectorX,this.vectorY),this.appendGlobalForces(A.globalForceX,A.globalForceY),this.updateColor(),l.fillStyle=this.color,"square"==A.particleType?l.fillRect(this.positionX,this.positionY,this.size,this.size):"circle"==A.particleType?(l.beginPath(),l.arc(this.positionX,this.positionY,this.size,0,2*Math.PI),l.fill(),l.closePath()):"text"==A.particleType&&(l.font=this.size+"px Verdana",l.fillText(A.particleText,this.positionX,this.positionY))}},a}()),D=function(){var a={};return a.init=function(){a.update=function(){for(var a=0;a<p.length;a++)p[a].closestDistance=h;for(var a=0;a<p.length;a++){var b=p[a];b.doActions(),b.active?(b.updateAnimation(),A.drawConnections&&b.testInteraction(),A.lifeTime&&b.updateLifeTime()):b.active===!1&&b.isFading===!1&&(b.lifeTime=100,b.positionX=b.initialPositionX,b.positionY=b.initialPositionY,b.calculateVector(),b.timer=0,b.fadeIn())}r.emit("refreshScene")}},a}();y.init(),C.init(),z.init(),u.init(),D.init(),v.init(),w.init(),t.init(),x.init(),g.onmousemove=function(b){m=b.clientX-f.offsetLeft+a.pageXOffset,n=b.clientY-f.offsetTop+a.pageYOffset};var E=function(){l.clearRect(0,0,g.width,g.height)},F=function(){E(),D.update(),a.particleEngine["animation"+b]=e(F),k=!0,A.showStatistics&&r.emit("requestStatistics")};s()},a.generateParticles=generateParticles,generateParticles}(window);